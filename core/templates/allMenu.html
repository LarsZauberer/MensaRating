{% extends "base.html" %}
{% load static %}
{% block content %}

<main>


<div class="fade_scroll_top">
    <h1>
        Alle MenÃ¼s
        <button>order</button>
    </h1>
</div>


<script>
    menuTypes = []
</script>

<div class="line"></div>
{% for index, menuType, occurrences, description, vegetarian, vegan, allTimeRating, allTimeNumRates in menuTypes %}
    <div id="menutype-{{index}}" class="menuListbox clickableDiv" onclick="location.href='{% url 'menuType' menuType.pk%}';">
        <h3></h3> <!-- name -->
        <div></div> <!-- occurrences -->

        <div id="vegivegan-container">
            <img class="vegivegan-label" src="{% static 'images/vegetarian.png' %}" alt="vegetarian">
            <img class="vegivegan-label" src="{% static 'images/vegan.png' %}" alt="vegan">
        </div>
        
        <div class="rating">
            <div></div> <!-- allTimeRating -->
            <div class="stars">
                <div class="emptystars"></div>
                <div id="stars-{{index}}" class="fullstars"></div>
                <div class="starshape"></div>
            </div>
            <div></div> <!-- numRates -->
        </div>
    </div>


    
    <script data-url="{% url 'menuType' menuType.pk%}"data-name="{{menuType.name}}" data-index="{{index}}" data-rating="{{allTimeRating}}" 
            data-occ="{{occurrences}}" data-numrates="{{allTimeNumRates}}" data-vegan="{{vegan}}", data-vegetarian="{{vegetarian}}">
        data = document.currentScript.dataset;
        
        menuType = {
            url: data.url,
            name: data.name,
            index: data.index,
            rating: data.rating,
            occurrences: data.occ,
            numrates: data.numrates,
            vegan: data.vegan,
            vegetarian: data.vegetarian
        }
        menuTypes.push(menuType)
    </script>
    
    
{% endfor %}

<script>
    data = document.currentScript.dataset;
    orderMenutypes(menuTypes)
    
</script>    




</main>


{% endblock %}